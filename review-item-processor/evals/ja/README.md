# RAPID ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè©•ä¾¡

[English](../README.md) | æ—¥æœ¬èª

ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ç²¾åº¦ã€å†ç¾ç‡ã€ä¿¡é ¼åº¦ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®è¿…é€Ÿãªè©•ä¾¡ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

---

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:

```bash
cd review-item-processor
uv sync --extra evals
```

äº‹å‰æ§‹ç¯‰ã•ã‚ŒãŸãƒ‡ãƒ¢ã‚’å®Ÿè¡Œã—ã¦å‹•ä½œã‚’ç¢ºèª:

```bash
uv run python evals/scripts/run_eval.py --suite ja/examples/floor_plan_hitl_suite.json
```

ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™:

- Accuracy: 100%
- Recall: 100%
- Critical Errors: 0

**ä½•ãŒèµ·ããŸã‹?** 3 ã¤ã®ç•°ãªã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã§ AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã—ãŸ(ç´„ 1-2 åˆ†)ã€‚è©³ç´°ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

---

## ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

### è©•ä¾¡ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¤ã„ã¦

ã“ã®è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã¯ã€AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹[strands-evals](https://github.com/strandslabs/strands-evals)ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚è¤‡æ•°ã®è©•ä¾¡ã‚¿ã‚¤ãƒ—ã‚’å«ã¿ã¾ã™:**ç²¾åº¦ãƒã‚§ãƒƒã‚¯**ã€**ä¿¡é ¼åº¦ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**ã€**LLM-as-judge**(åˆ¥ã® AI ãŒå‡ºåŠ›å“è³ªã¨èª¬æ˜ã‚’è©•ä¾¡)ã€‚ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¾Œã€ã™ã¹ã¦ã®è©•ä¾¡è€…ã‹ã‚‰ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

### è©•ä¾¡ã¨ã¯?

è©•ä¾¡ã¯ã€AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒæ­£ã—ã„åˆ¤æ–­ã‚’ä¸‹ã™ã‹ã©ã†ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ‰‹å‹•ã§ãƒã‚§ãƒƒã‚¯ã™ã‚‹ä»£ã‚ã‚Šã«:

1. æ—¢çŸ¥ã®æ­£è§£(æ­£è§£ãƒ©ãƒ™ãƒ«)ã‚’æŒã¤ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½œæˆ
2. ãã‚Œã‚‰ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®Ÿè¡Œ
3. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å›ç­”ã‚’æ­£è§£ãƒ©ãƒ™ãƒ«ã¨æ¯”è¼ƒ
4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ¸¬å®šã™ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¨ˆç®—

### ãªãœè©•ä¾¡ã™ã‚‹ã®ã‹?

æœ¬ç•ªç’°å¢ƒ(ç‰¹ã«å®‰å…¨æ€§/ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹)ã« AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

- ã™ã¹ã¦ã®é‡è¦ãªå•é¡Œã‚’æ¤œå‡ºã™ã‚‹(é«˜ã„å†ç¾ç‡)
- èª¤è­¦å ±ãŒå¤šã™ããªã„(è‰¯å¥½ãªé©åˆç‡)
- ä¸ç¢ºå®Ÿãªå ´åˆã«ãã‚Œã‚’èªè­˜ã™ã‚‹(è‰¯å¥½ãªã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³)

### 2 ç¨®é¡ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹

**1. ç²¾åº¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹ - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯æ­£ã—ã„ã‹?**

- **Recall (å†ç¾ç‡)** (æœ€é‡è¦): ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒæ¤œå‡ºã—ãŸå®Ÿéš›ã®å•é¡Œã®å‰²åˆ

  - ä¾‹: 10 ä»¶ã®é•åãŒã‚ã‚Šã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒ 9 ä»¶ã‚’ç™ºè¦‹ã—ãŸå ´åˆã€å†ç¾ç‡ = 90%
  - é€šå¸¸>95%ã‚’ç›®æŒ‡ã™

- **Precision (é©åˆç‡)**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ•ãƒ©ã‚°ã®ã†ã¡å®Ÿéš›ã®å•é¡Œã§ã‚ã‚‹å‰²åˆ

  - ä¾‹: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒ 10 é …ç›®ã«ãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ãŸãŒã€å®Ÿéš›ã®å•é¡Œã¯ 8 ä»¶ã®å ´åˆã€é©åˆç‡ = 80%
  - ä½ã„é©åˆç‡ = ã‚ˆã‚Šå¤šãã®ä¸è¦ãªäººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼

- **Accuracy (ç²¾åº¦)**: å…¨ä½“çš„ãªæ­£ç¢ºæ€§(æ­£ã—ã„äºˆæ¸¬ / ç·äºˆæ¸¬æ•°)

**2. ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒˆãƒªã‚¯ã‚¹ - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯è‡ªåˆ†ãŒæ­£ã—ã„ã¨ãã‚’èªè­˜ã—ã¦ã„ã‚‹ã‹?**

- **Confidence (ä¿¡é ¼åº¦)**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è‡ªå·±è©•ä¾¡ã‚¹ã‚³ã‚¢(0.0 ï½ 1.0)

  - 0.9+ = éå¸¸ã«ç¢ºä¿¡ãŒã‚ã‚‹
  - 0.5-0.7 = ä¸ç¢ºå®Ÿ
  - <0.5 = éå¸¸ã«ä¸ç¢ºå®Ÿ

- **Critical Errors (FN@HC / é‡å¤§ã‚¨ãƒ©ãƒ¼)**: é«˜ä¿¡é ¼åº¦ã§ã®å½é™°æ€§
  - ã“ã‚ŒãŒæœ€ã‚‚å±é™º - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç¢ºä¿¡ã‚’æŒã£ã¦é•åã‚’è¦‹é€ƒã™
  - æœ¬ç•ª HITL ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ 0 ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„

---

## ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè©•ä¾¡

### å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

ã“ã® eval ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ä¸»ã«**æŠ€è¡“è€…å‘ã‘**ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ (AI/ML Engineer, System Developer)ã€‚

**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**:

1. agent.py ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¨­è¨ˆ (å½¹å‰²å®šç¾©ã€å‡ºåŠ›å½¢å¼ã€ä¿¡é ¼åº¦ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ«ãƒ¼ãƒ«)
2. eval ã‚’å®Ÿè¡Œã—ã¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆ
3. ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’åˆ†æ (recall, precision, critical errors)
4. æœ¬ç•ªåŸºæº–ã‚’æº€ãŸã™ã¾ã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ”¹å–„
5. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ãƒªãƒªãƒ¼ã‚¹

**æ³¨**: éæŠ€è¡“è€…ã®æ–¹ã¯ã€å¤šãã®å ´åˆ eval ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æŠ€è¡“ãƒãƒ¼ãƒ ãŒãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ãã®ã¾ã¾ä½¿ç”¨ã—ã¾ã™ã€‚

### ä½•ã‚’è©•ä¾¡ã—ã¦ã„ã‚‹ã®ã‹?

ã“ã®è©•ä¾¡ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯**agent.py ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå“è³ª**ã‚’è©•ä¾¡ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯:

#### agent.py ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

`agent.py`ã«ã¯è¤‡æ•°ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé–¢æ•°ãŒå«ã¾ã‚Œã¦ã„ã¾ã™:

- ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- ç”»åƒãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

#### å„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å«ã¾ã‚Œã‚‹è¦ç´ 

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã¯ä»¥ä¸‹ã®è¦ç´ ãŒå«ã¾ã‚Œã¦ã„ã¾ã™:

- **å½¹å‰²å®šç¾© (Role)**:

  - Document: "You are an expert document reviewer"
  - Image: "You are an AI assistant who reviews images"

- **å‡ºåŠ›å½¢å¼ (Output Format)**:

  - JSON schema with required fields
  - Language specification

- **ä¿¡é ¼åº¦ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ (Confidence Guidelines)**:

  - 0.90-1.00: æ˜ç¢ºãªè¨¼æ‹ ã‚ã‚Šã€æ˜ã‚‰ã‹ãªé©åˆ/éé©åˆ
  - 0.70-0.89: é–¢é€£è¨¼æ‹ ã‚ã‚Šã ãŒä¸€éƒ¨ä¸ç¢ºå®Ÿ
  - 0.50-0.69: æ›–æ˜§ãªè¨¼æ‹ ã€å¤§ããªä¸ç¢ºå®Ÿæ€§
  - 0.30-0.49: åˆ¤æ–­ã«ä¸ååˆ†ãªè¨¼æ‹ 

- **ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ«ãƒ¼ãƒ« (Critical Rules)**:
  - `BASE_JUDGMENT_ON_DOCUMENTS_ONLY`: æä¾›ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿ã«åŸºã¥ãåˆ¤æ–­
  - `INSUFFICIENT_INFORMATION_HANDLING`: æƒ…å ±ä¸è¶³æ™‚ã®å‡¦ç†æ–¹æ³•

#### check_description (ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ)

agent.py ä»¥å¤–ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ã—ã¦ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æŒ‡å®šã•ã‚Œã‚‹ã€ãƒã‚§ãƒƒã‚¯é …ç›®ã®å…·ä½“çš„ãªæŒ‡ç¤ºãŒã‚ã‚Šã¾ã™:

```json
{
  "check_name": "1éšå»Šä¸‹ã®æ¶ˆç«å™¨è¨­ç½®ç¢ºèª",
  "check_description": "å»ºç‰©A(ãƒšãƒ¼ã‚¸1)ã®1éšå»Šä¸‹ã«ABCå‹æ¶ˆç«å™¨ãŒ2å°ä»¥ä¸Šè¨­ç½®ã•ã‚Œã€æœ‰åŠ¹æœŸé™å†…ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª"
}
```

---

## ãƒ‡ãƒ¢è©³è§£: floor_plan_hitl_suite å®Ÿè¡Œçµæœã®è©³ç´°è§£èª¬

ã“ã®ä¾‹ã§ã¯ã€3 ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ãŸå®Ÿéš›ã®è©•ä¾¡å®Ÿè¡Œã¨ãã®çµæœã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

### è©•ä¾¡ã®å®Ÿè¡Œæ–¹æ³•

#### ä½¿ç”¨ãƒ•ã‚¡ã‚¤ãƒ«

- **ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ**: `ja/examples/floor_plan_hitl_suite.json` (3 ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹)
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: `ja/examples/fixtures/floor_plan_safety_reports.pdf` (1 ãƒšãƒ¼ã‚¸ã®ã¿ä½¿ç”¨: Building A)
- **æ­£è§£ãƒ©ãƒ™ãƒ«**: ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆå†…ã®äº‹å‰æ±ºå®šã•ã‚ŒãŸåˆæ ¼/ä¸åˆæ ¼ãƒ©ãƒ™ãƒ«

#### ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ

```bash
cd review-item-processor
uv run python evals/scripts/run_eval.py \
  --suite ja/examples/floor_plan_hitl_suite.json \
  --experiment comprehensive
```

### è©•ä¾¡çµæœ (å®Ÿæ¸¬å€¤)

```
âœ“ ja/examples/floor_plan_hitl_suite.jsonã‹ã‚‰3å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ãƒ­ãƒ¼ãƒ‰
âœ“ 3ã¤ã®è©•ä¾¡è€…ã§å®Ÿé¨“ã‚’ä½œæˆ

ğŸ¤– ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè©•ä¾¡ã‚’å®Ÿè¡Œä¸­...
  ã‚±ãƒ¼ã‚¹1/3ã‚’å‡¦ç†ä¸­: TC001-high-confidence-pass...
  ã‚±ãƒ¼ã‚¹2/3ã‚’å‡¦ç†ä¸­: TC002-high-confidence-fail...
  ã‚±ãƒ¼ã‚¹3/3ã‚’å‡¦ç†ä¸­: TC004-evidence-absent...

âœ“ è©•ä¾¡å®Œäº†!
çµæœã‚’ä¿å­˜: results/results_TIMESTAMP.json

=============================================================
ç²¾åº¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹
=============================================================
Accuracy:  100% (3/3 æ­£è§£)
Recall:    100% â­ (ã™ã¹ã¦ã®é•åã‚’æ¤œå‡º)
Precision: 100% (èª¤æ¤œå‡ºãªã—)
F1 Score:  1.00

False Negatives: 0 (é•åã®è¦‹é€ƒã—ãªã— - HITLå®‰å…¨!)
False Positives: 0 (èª¤æ¤œå‡ºãªã—)

=============================================================
ä¿¡é ¼åº¦ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (HITLå®‰å…¨æ€§)
=============================================================
Over-Confidence Rate:           0.0%
Critical Errors (FN@HC):        0 (é«˜ä¿¡é ¼åº¦ã®å½é™°æ€§ãªã—)

=============================================================
EXPLANATION QUALITY (LLM-as-Judge)
=============================================================
Mean Score:         0.87/1.0
Min Score:          0.80
Max Score:          0.95
Low Quality Count:  0
```

### çµæœã®èª¬æ˜: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¨ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç´ä»˜ã‘

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€**ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒå„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«ã©ã†è²¢çŒ®ã—ãŸã‹**ã‚’èª¬æ˜ã—ã¾ã™ã€‚

#### ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚µãƒãƒªãƒ¼

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹          | å€¤      | æ„å‘³                                             | ã“ã‚Œã¯è‰¯ã„ã‹?             |
| ------------------- | ------- | ------------------------------------------------ | ------------------------- |
| **Accuracy**        | 100%    | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ 3 ã®ã†ã¡ 3 ã¤ã®äºˆæ¸¬ã‚’æ­£ã—ãè¡Œã£ãŸ | âœ“ å®Œç’§ - ã™ã¹ã¦æ­£ç¢º       |
| **Recall**          | 100% â­ | ã™ã¹ã¦ã®å®Ÿéš›ã®é•åã‚’æ¤œå‡º(å½é™°æ€§ 0)               | âœ“ å„ªç§€ - æœ¬ç•ªç’°å¢ƒã§å®‰å…¨   |
| **Precision**       | 100%    | ã™ã¹ã¦ã®"fail"äºˆæ¸¬ãŒå®Ÿéš›ã®é•å                   | âœ“ å®Œç’§ - èª¤æ¤œå‡ºãªã—       |
| **F1 Score**        | 1.00    | é©åˆç‡ã¨å†ç¾ç‡ã®ãƒãƒ©ãƒ³ã‚¹æŒ‡æ¨™                     | âœ“ å®Œç’§                    |
| **Over-Confidence** | 0.0%    | é«˜ä¿¡é ¼åº¦äºˆæ¸¬ã§èª¤ã‚Šãªã—                           | âœ“ å®Œç’§ - éä¿¡ãªã—         |
| **Critical Errors** | 0       | é«˜ä¿¡é ¼åº¦ã§é•åã‚’è¦‹é€ƒã—ãŸã“ã¨ãŒãªã„               | âœ“ å®Œç’§ - å±é™ºãªã‚¨ãƒ©ãƒ¼ãªã— |

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åˆ¥ã®è²¢çŒ®

**TC001 (high-confidence-pass, 0.95 confidence):**

- âœ… æ˜ç¢ºãªè¨¼æ‹ ã§ pass â†’ Accuracy ã«è²¢çŒ®
- âœ… é«˜ä¿¡é ¼åº¦ã§æ­£ã—ã„ â†’ å„ªç§€ãªã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- å†…å®¹: 1 éšå»Šä¸‹ã« ABC å‹æ¶ˆç«å™¨ 2 å°ä»¥ä¸Šã€æœ‰åŠ¹æœŸé™å†…
- PDF ã«æ˜ç¢ºãªè¨˜è¼‰: "1 éšå»Šä¸‹: ABC å‹æ¶ˆç«å™¨ 2 å° - è¨­ç½®æ¸ˆã¿ã€æœ‰åŠ¹æœŸé™å†…"

**TC002 (high-confidence-fail, 0.95 confidence):**

- âœ… æ˜ç¢ºãªåŸºæº–é•åã§ fail â†’ **100% Recall ã«è²¢çŒ®**
- âœ… é«˜ä¿¡é ¼åº¦ã§æ­£ã—ã„ â†’ Precision ã«è²¢çŒ®
- å†…å®¹: éå¸¸ç¯ãƒãƒƒãƒ†ãƒªãƒ¼ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— 120 åˆ†ä»¥ä¸Šï¼ˆå®Ÿéš› 90 åˆ†ï¼‰
- PDF ã«æ˜ç¢ºãªè¨˜è¼‰: "ãƒãƒƒãƒ†ãƒªãƒ¼ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: 90 åˆ†"
- 90 < 120 â†’ æ˜ç¢ºãªåŸºæº–é•å â†’ é«˜ confidence fail

**TC004 (evidence-absent, 0.40 confidence):**

- âœ… è¨¼æ‹ ä¸åœ¨ã‚’æ­£ã—ã fail åˆ¤å®š â†’ **100% Recall ã«æ±ºå®šçš„ã«è²¢çŒ®**
- âœ… ä½ä¿¡é ¼åº¦ (0.40) ã§æ­£ã—ã„åˆ¤æ–­ â†’ INSUFFICIENT_INFORMATION_HANDLING ãƒ«ãƒ¼ãƒ«é€šã‚Š
- å†…å®¹: ã‚¹ãƒ—ãƒªãƒ³ã‚¯ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®è¨­ç½®ç¢ºèª
- PDF ã«è¨˜è¼‰ãªã— â†’ è¨¼æ‹ ä¸åœ¨ â†’ confidence 0.40 ã§ fail

#### é‡è¦ãªæ´å¯Ÿ

**âœ… HITL ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦å®Œç’§:**

- **100% Accuracy**: ã™ã¹ã¦ã®äºˆæ¸¬ãŒæ­£ç¢º
- **100% Recall**: ã™ã¹ã¦ã®å®Ÿéš›ã®é•åã‚’æ¤œå‡º (TC002, TC004)
- **100% Precision**: èª¤æ¤œå‡ºã‚¼ãƒ­
- **0 Critical Errors**: é«˜ä¿¡é ¼åº¦ã§é•åã‚’è¦‹é€ƒã—ãŸã“ã¨ãŒãªã„

---

## ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•: ç‹¬è‡ªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ

ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ã€ç‹¬è‡ªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§è©•ä¾¡ã‚’ä½œæˆã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 1: ãƒ†ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æº–å‚™

PDF ã‚’ fixtures ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼:

```bash
cp your_document.pdf evals/my_tests/fixtures/
```

**ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹å½¢å¼**: PDF(ä¸»è¦ã€å¼•ç”¨ã‚µãƒãƒ¼ãƒˆã‚ã‚Š)ã€PNGã€JPG

### ã‚¹ãƒ†ãƒƒãƒ— 2: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©ã®ä½œæˆ

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ç·¨é›†:

```bash
cp evals/my_tests/template.json evals/my_tests/my_suite.json
```

`my_tests/my_suite.json`ã‚’ç·¨é›†:

```json
{
  "name": "my-fire-safety-check",
  "input": {
    "document_paths": ["your_document.pdf"],
    "check_name": "æ¶ˆç«å™¨ãƒã‚§ãƒƒã‚¯",
    "check_description": "å®‰å…¨åŸºæº–ã«å¾“ã£ã¦æ¶ˆç«å™¨ãŒè¨­ç½®ã•ã‚Œã€é©åˆ‡ã«ä¿å®ˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèª",
    "language_name": "æ—¥æœ¬èª"
  },
  "expected_output": {
    "result": "pass"
  }
}
```

**å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:

- `name`: ã“ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®ä¸€æ„ã®è­˜åˆ¥å­
- `document_paths`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«åã®é…åˆ—(ãƒ•ã‚¡ã‚¤ãƒ«åã®ã¿ã€ãƒ•ãƒ«ãƒ‘ã‚¹ã§ã¯ãªã„)
- `check_name`: ãƒã‚§ãƒƒã‚¯å†…å®¹ã®çŸ­ã„åå‰
- `check_description`: è¦ä»¶ã®è©³ç´°ãªèª¬æ˜
- `language_name`: "English" ã¾ãŸã¯ "æ—¥æœ¬èª"
- `expected_output.result`: æ­£è§£ãƒ©ãƒ™ãƒ« - "pass" ã¾ãŸã¯ "fail"

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:

- `tool_configuration`: é«˜åº¦ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ç”¨(References ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‚ç…§)

### ã‚¹ãƒ†ãƒƒãƒ— 3: æ­£è§£ãƒ©ãƒ™ãƒ«ã®æ±ºå®š

**ã‚ãªãŸè‡ªèº«ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚“ã§æ­£ã—ã„ç­”ãˆã‚’æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**:

1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ³¨æ„æ·±ãèª­ã‚€
2. `check_description`ã®è¦ä»¶ã¨ç…§ã‚‰ã—åˆã‚ã›ã¦ãƒã‚§ãƒƒã‚¯
3. æ±ºå®š: "pass"(æº–æ‹ ) ã¾ãŸã¯ "fail"(éæº–æ‹ )

**ä¾‹**:

- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ¶ˆç«å™¨ãŒè¨­ç½®ã•ã‚Œã¦ã„ã‚‹ â†’ `"result": "pass"`
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¿…è¦ãªå®‰å…¨æ©Ÿå™¨ãŒæ¬ è½ â†’ `"result": "fail"`
- éƒ¨åˆ†çš„ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ â†’ `"result": "fail"` (äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨ã«ãƒ•ãƒ©ã‚°)

**é‡è¦**: æ­£è§£ãƒ©ãƒ™ãƒ«ã¯ã€ç­”ãˆãŒã©ã†ã‚ã‚‹ã¹ãã‹ã§ã‚ã‚Šã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒä½•ã¨è¨€ã†ã‹ã®äºˆæƒ³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

### ã‚¹ãƒ†ãƒƒãƒ— 4: è©•ä¾¡ã®å®Ÿè¡Œã¨åå¾©æ”¹å–„

**4.1 åˆå›è©•ä¾¡ã‚’å®Ÿè¡Œ:**

```bash
cd review-item-processor
uv run python evals/scripts/run_eval.py --suite my_tests/my_suite.json
```

**4.2 çµæœã‚’è§£é‡ˆã—ã€å¿…è¦ã«å¿œã˜ã¦ agent.py ã‚’ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°:**

ç¾åœ¨ã® agent.py ã®è¨­å®šã¯æ¨å¥¨ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã§ã™ã€‚ã»ã¨ã‚“ã©ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã“ã®ã¾ã¾ä½¿ç”¨ã§ãã¾ã™ãŒã€å¿…è¦ã«å¿œã˜ã¦ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ã¦ãã ã•ã„ã€‚

---

## ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹å®šç¾©

#### ç²¾åº¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹

- **Recall (å†ç¾ç‡)**

  - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒæ¤œå‡ºã—ãŸå®Ÿéš›ã®å•é¡Œã®å‰²åˆ
  - è¨ˆç®—å¼: True Positives / (True Positives + False Negatives)
  - **ãªãœé‡è¦ã‹**: å®‰å…¨æ€§/ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã§ã¯ã€å®Ÿéš›ã®å•é¡Œã‚’è¦‹é€ƒã™ã“ã¨(å½é™°æ€§)ã¯ã€éå•é¡Œã«ãƒ•ãƒ©ã‚°ã‚’ç«‹ã¦ã‚‹ã“ã¨(å½é™½æ€§)ã‚ˆã‚Šã‚‚ã¯ã‚‹ã‹ã«æ‚ªã„ã€‚å½é™½æ€§ã¯äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ (ä¸åˆæ ¼) ã«å›ã•ã‚Œã‚‹ãŒã€å½é™°æ€§ã¯å®Œå…¨ã«è¦‹é€ƒã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ (äººã¯åˆæ ¼ã¯è¦‹ãªã„å ´åˆãŒã‚ã‚‹)ã€‚
  - ç›®æ¨™: å®‰å…¨æ€§/ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§>95%

- **Precision (é©åˆç‡)**

  - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ•ãƒ©ã‚°ã®ã†ã¡å®Ÿéš›ã®å•é¡Œã§ã‚ã‚‹å‰²åˆ
  - è¨ˆç®—å¼: True Positives / (True Positives + False Positives)
  - ä½ã„é©åˆç‡ = ã‚ˆã‚Šå¤šãã®ä¸è¦ãªäººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼(é«˜ã„å†ç¾ç‡ã®ãŸã‚ã®è¨±å®¹å¯èƒ½ãªãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•)
  - ç›®æ¨™: >80%

- **Accuracy (ç²¾åº¦)**

  - å…¨ä½“çš„ãªæ­£ç¢ºæ€§
  - è¨ˆç®—å¼: (True Positives + True Negatives) / ç·ã‚±ãƒ¼ã‚¹æ•°
  - ç›®æ¨™: >90%

- **F1 Score (F1 ã‚¹ã‚³ã‚¢)**
  - é©åˆç‡ã¨å†ç¾ç‡ã®èª¿å’Œå¹³å‡
  - è¨ˆç®—å¼: 2 Ã— (Precision Ã— Recall) / (Precision + Recall)
  - é©åˆç‡ã¨å†ç¾ç‡ã®ä¸¡æ–¹ãŒé‡è¦ãªå ´åˆã®ãƒãƒ©ãƒ³ã‚¹æŒ‡æ¨™

#### ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒˆãƒªã‚¯ã‚¹ (HITL å®‰å…¨æ€§)

- **Over-Confidence Rate (éä¿¡ç‡)**

  - é«˜ä¿¡é ¼åº¦äºˆæ¸¬(>0.85)ã®ã†ã¡èª¤ã£ã¦ã„ã‚‹å‰²åˆ
  - **è¨ˆç®—å¼**: `OCR = FP_high / Total_high`
    - FP_high = ä¿¡é ¼åº¦>0.85 ã®èª¤ã£ãŸäºˆæ¸¬
    - Total_high = ä¿¡é ¼åº¦>0.85 ã®ã™ã¹ã¦ã®äºˆæ¸¬
  - **ä¾‹**:
    ```
    6ã¤ã®é«˜ä¿¡é ¼åº¦äºˆæ¸¬(>0.85)
    1ã¤èª¤ã‚Š = OCR = 1/6 = 16.7%
    ```
  - 0%ã«è¿‘ã„ã¹ã
  - é«˜ã„å ´åˆ: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯å±é™ºãªã»ã©éä¿¡ã—ã¦ã„ã‚‹

- **Critical Errors (FN@HC / é‡å¤§ã‚¨ãƒ©ãƒ¼)**

  - é«˜ä¿¡é ¼åº¦(>0.85)ã§ã®å½é™°æ€§
  - **å®šç¾©**: ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™äºˆæ¸¬ã®æ•°:
    - æœŸå¾…ã•ã‚Œã‚‹çµæœ: FAIL(é•åãŒå­˜åœ¨)
    - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®çµæœ: PASS(è¦‹é€ƒã—ãŸ!)
    - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä¿¡é ¼åº¦: > 0.85(èª¤ã£ãŸç­”ãˆã«éå¸¸ã«ç¢ºä¿¡)
  - **ä¾‹**:
    ```
    ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«é˜²ç«è¦å®šé•åã‚ã‚Š(æ­£è§£ãƒ©ãƒ™ãƒ«: FAIL)
    ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®åˆ¤å®š: PASSã€ä¿¡é ¼åº¦0.90
    â†’ ã“ã‚Œã¯é‡å¤§ã‚¨ãƒ©ãƒ¼(å±é™ºãªè¦‹é€ƒã—!)
    ```
  - **æœ€ã‚‚å±é™ºãªã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—** - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç¢ºä¿¡ã‚’æŒã£ã¦é•åã‚’è¦‹é€ƒã™
  - æœ¬ç•ª HITL ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ 0 ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„

- **Safe Threshold (å®‰å…¨é–¾å€¤)**
  - è‡ªå‹•æ‰¿èªã«æ¨å¥¨ã•ã‚Œã‚‹ä¿¡é ¼åº¦ãƒ¬ãƒ™ãƒ«
  - å½é™°æ€§ç‡ã‚’æœ€å°åŒ–ã—ãªãŒã‚‰ç²¾åº¦ã‚’æœ€å¤§åŒ–ã™ã‚‹ã‚ˆã†ã«è¨ˆç®—
  - ã“ã®é–¾å€¤ã‚’ä½¿ç”¨ã—ã¦ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¿¡é ¼ã™ã‚‹ã‹äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«é€ã‚‹ã‹ã‚’æ±ºå®š

#### çµæœã®è§£é‡ˆ

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹      | è‰¯å¥½ | è­¦å‘Š | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³                                                                      |
| --------------- | ---- | ---- | ------------------------------------------------------------------------------- |
| Recall          | >95% | <90% | âš ï¸ agent.py ã®ä¿¡é ¼åº¦ç¯„å›²ã‚’ç·©å’Œ (0.65-0.85)ã€ã¾ãŸã¯ check_description ã‚’æ”¹å–„     |
| Precision       | >80% | <70% | âš ï¸ agent.py ã®ä¿¡é ¼åº¦ç¯„å›²ã‚’å³æ ¼åŒ– (0.75-0.91)ã€ã¾ãŸã¯ check_description ã‚’å…·ä½“åŒ– |
| Critical Errors | 0    | >0   | ğŸš¨ é‡å¤§ - agent.py ã®é«˜ä¿¡é ¼åº¦ç¯„å›²(0.90-1.00)ã‚’è¦‹ç›´ã™                            |

### CLI ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

#### run_eval.py

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰è©•ä¾¡ã‚’å®Ÿè¡Œ:

```bash
uv run python evals/scripts/run_eval.py [OPTIONS]
```

**ã‚ªãƒ—ã‚·ãƒ§ãƒ³:**

- `--suite <path>` - ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’å®Ÿè¡Œ(ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®é…åˆ—ã‚’å«ã‚€ JSON ãƒ•ã‚¡ã‚¤ãƒ«)

  - ä¾‹: `--suite my_tests/my_suite.json`

- `--case <path>` - å˜ä¸€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å®Ÿè¡Œ(å˜ä¸€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å«ã‚€ JSON ãƒ•ã‚¡ã‚¤ãƒ«)

  - ä¾‹: `--case my_tests/single_case.json`

- `--experiment <type>` - å®Ÿé¨“ã‚¿ã‚¤ãƒ—ã‚’é¸æŠ:

  - `accuracy` - ç²¾åº¦ã¨ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ã¿(é«˜é€Ÿ)
  - `tool` - ãƒ„ãƒ¼ãƒ«ä½¿ç”¨åŠ¹ç‡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¿½åŠ 
  - `comprehensive` - èª¬æ˜å“è³ªã‚’å«ã‚€ã™ã¹ã¦ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)

- `--output <path>` - çµæœã‚’ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜

  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `results/results_TIMESTAMP.json`
  - ä¾‹: `--output my_results.json`

- `--verbose` - å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è©³ç´°å‡ºåŠ›ã‚’è¡¨ç¤º
  - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‡ºåŠ›ã€ä¿¡é ¼åº¦ã€èª¬æ˜ã‚’è¡¨ç¤º
  - å½é™°æ€§/å½é™½æ€§ã®ãƒ‡ãƒãƒƒã‚°ã«ä¾¿åˆ©

**ä¾‹:**

```bash
# åŒ…æ‹¬çš„è©•ä¾¡ã‚’å®Ÿè¡Œ(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
uv run python evals/scripts/run_eval.py --suite my_tests/my_suite.json

# è©³ç´°å‡ºåŠ›ã§å®Ÿè¡Œ
uv run python evals/scripts/run_eval.py --suite my_tests/my_suite.json --verbose

# å˜ä¸€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å®Ÿè¡Œ
uv run python evals/scripts/run_eval.py --case my_tests/single_case.json

# ç²¾åº¦ã®ã¿å®Ÿè¡Œ(é«˜é€Ÿ)
uv run python evals/scripts/run_eval.py --suite my_tests/my_suite.json --experiment accuracy
```

### é«˜åº¦ãªãƒˆãƒ”ãƒƒã‚¯

#### ãƒ„ãƒ¼ãƒ«è¨­å®š(å¤–éƒ¨ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹)

å¤–éƒ¨å‚ç…§(å»ºç¯‰åŸºæº–æ³•ã€è¦æ ¼ã€è¦åˆ¶)ã‚’å¿…è¦ã¨ã™ã‚‹ãƒã‚§ãƒƒã‚¯ã®å ´åˆã€ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ãƒ„ãƒ¼ãƒ«ã‚’è¨­å®šã§ãã¾ã™ã€‚

**ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã®ä¾‹:**

```json
{
  "name": "advanced-kb-check",
  "input": {
    "document_paths": ["your_document.pdf"],
    "check_name": "æ¶ˆé˜²æ³•ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹",
    "check_description": "åœ°åŸŸã®æ¶ˆé˜²æ³•ã¸ã®æº–æ‹ ã‚’ç¢ºèª",
    "language_name": "æ—¥æœ¬èª",
    "tool_configuration": {
      "knowledgeBase": [
        {
          "knowledgeBaseId": "YOUR_KB_ID",
          "dataSourceIds": null
        }
      ],
      "codeInterpreter": false,
      "mcpConfig": null
    }
  },
  "expected_output": { "result": "pass" }
}
```

**è¤‡æ•°ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹:**

```json
"tool_configuration": {
  "knowledgeBase": [
    {"knowledgeBaseId": "KB-regulations", "dataSourceIds": null},
    {"knowledgeBaseId": "KB-standards", "dataSourceIds": ["src-1"]}
  ]
}
```

**CLI ã§ãƒ„ãƒ¼ãƒ«è¨­å®šã‚’ä½¿ç”¨:**

1. ä¸Šè¨˜ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’`my_tests/compliance_with_kb.json`ã«ä¿å­˜(`YOUR_KB_ID`ã‚’å®Ÿéš›ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ ID ã«ç½®ãæ›ãˆã‚‹)
2. å®Ÿè¡Œ:
   ```bash
   cd review-item-processor
   uv run python evals/scripts/run_eval.py --case my_tests/compliance_with_kb.json
   ```

ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã®è©³ç´°ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ã€`my_tests/template.json`ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
