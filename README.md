<div align="center">
  <img src="docs/imgs/icon.png" alt="RAPID logo" width="150" height="150">
</div>

# RAPID: Review & Assessment Powered by Intelligent Documentation

RAPID は生成 AI (Amazon Bedrock) を活用した書類審査ソリューションです。膨大な書類と複雑なチェックリストによる審査業務を、Human in the Loop アプローチで効率化します。チェックリストの構造化から AI による審査、そして人間の最終判断までの一連のプロセスをサポートし、審査時間の短縮と品質向上を実現します。

> [!Warning]
> 本サンプルは予告なく破壊的な変更を行う恐れがあります。

## 目次

- [RAPID の効果](#rapid-の効果)
- [主なユースケース](#主なユースケース)
- [使い方](#使い方)
- [導入方法](#導入方法)
- [詳細情報](#詳細情報)

## RAPID の効果

RAPID を導入することで、以下のような効果が期待できます：

- **審査時間の大幅短縮**: AI による自動チェックにより、審査作業の 60 ～ 80% を自動化
- **一貫性の向上**: 人による判断のばらつきを減らし、審査基準の標準化を実現
- **品質の向上**: ミスや見落としを減少させ、審査精度を向上
- **コスト削減**: 審査作業の効率化により、人件費と運用コストを削減
- **スケーラビリティ向上**: 業務量の増加にも柔軟に対応可能

## 主なユースケース

### 建築確認申請の審査効率化

建築確認申請書類は多数の図面や表を含み、数百から数千項目のチェックリストと照合する必要があります。RAPID は申請書類を自動解析し、法令・規制への適合性を効率的に確認できます。これにより審査期間を短縮し、申請者・審査機関双方の業務負荷を軽減します。

### 賃貸借契約書の適合性チェック

多様なフォーマットの賃貸借契約書を、業界標準や社内規定に即しているか確認する作業を自動化します。年間数万件の契約書チェック業務を担当者の知識差に左右されず、均質かつ迅速に処理することが可能になります。

### 工事作業手順書の安全基準審査

工事現場での安全確保に不可欠な作業手順書が、安全ルールブックの基準を満たしているか網羅的にチェックします。一つのプロジェクトで数百に及ぶ手順書を効率的に審査し、安全リスクを最小化します。

### BPO 業務の品質向上とスケーリング

企業がビジネスプロセスのアウトソーシング（BPO）を行う際、大量のドキュメント処理作業が発生します。RAPID は、データ入力検証や書類審査などの BPO 業務において、以下の効果を発揮します：

- 処理業務の標準化と品質の一貫性確保
- 新人スタッフの教育期間短縮と即戦力化
- ピーク時の処理能力の大幅な向上
- エラー率の低減と品質監査の自動化

特に金融機関、保険会社、医療機関などでの申請書処理、請求書検証、顧客対応履歴の分析などに活用でき、BPO 事業者の競争力強化と顧客満足度向上に貢献します。

## 使い方

RAPID は直感的なウェブインターフェースを通じて、以下の流れで利用できます：

### 1. チェックリストの作成

- 審査基準をチェックリストとして定義
- 親子関係のある階層構造で作成可能
- チェック項目ごとに参照ドキュメントを登録

> **注意**: 実際の画面イメージは実装後に提供されます。画面設計の詳細については [画像プレースホルダー情報](./docs/imgs/image-placeholders.md) を参照してください。

### 2. ドキュメントのアップロード

- 審査対象の書類をアップロード
- PDF など多様な形式に対応
- バッチ処理で複数ドキュメントを一括アップロード可能

### 3. AI による自動審査

- アップロードされた書類を AI が自動で解析
- チェックリストの各項目に対して適合性を評価
- 信頼度スコア付きで結果を表示

### 4. 人による確認とオーバーライド

- AI の評価結果を人がレビュー
- 必要に応じて結果を修正（オーバーライド）
- コメント追加で判断根拠を記録

### 5. 結果のエクスポートと共有

- 審査結果をレポートとして出力
- 関係者と安全に共有
- 監査証跡として保存

## デプロイ手順

### 前提条件

- AWS アカウント
- AWS CLI (設定済み)
- Node.js (v18 以上)

### 簡易デプロイ手順

1. **Amazon Bedrock モデルの有効化**

   AWS Management Console から Bedrock サービスにアクセスし、必要なモデルへのアクセスを有効化してください。

2. **リポジトリのクローン**

   ```bash
   git clone https://github.com/aws-samples/bedrock-chat.git
   cd bedrock-chat
   ```

3. **デプロイの実行**

   ```bash
   npm ci
   cd cdk
   npm ci
   npm run build
   cdk bootstrap  # 初回のみ
   cdk deploy --all --require-approval never
   ```

4. **デプロイ後の初期設定**

   デプロイ完了後、以下の手順が必要です:

   1. AWS Management Console で、Lambda サービスに移動
   2. `BeaconStack-PrismaMigrationMigrationFunction~` という名前の Lambda 関数を検索して選択
   3. 「テスト」タブを選択
   4. 以下の JSON をテストイベントとして設定し実行
      ```json
      { "command": "deploy" }
      ```
   5. 表示される URL にアクセスしてアプリケーションを開始

### パラメータカスタマイズ

CDK デプロイ時に以下のパラメータをカスタマイズできます:

| パラメータ名             | 説明                                    | デフォルト値                              |
| ------------------------ | --------------------------------------- | ----------------------------------------- |
| allowedIpV4AddressRanges | フロントエンド WAF で許可する IPv4 範囲 | ["0.0.0.0/1", "128.0.0.0/1"] (すべて許可) |
| allowedIpV6AddressRanges | フロントエンド WAF で許可する IPv6 範囲 | ["0000::/1", "8000::/1"] (すべて許可)     |

#### パラメータ指定方法

##### 1. parameter.ts で設定（推奨）

`cdk/lib/parameter.ts` ファイルを直接編集する方法:

```typescript
// cdk/lib/parameter.ts
export const parameters = {
  // カスタマイズしたいパラメータのみコメントを外して設定

  // WAF IP制限の設定例
  allowedIpV4AddressRanges: [
    "192.168.0.0/16", // 内部ネットワーク例
    "203.0.113.0/24", // 特定のパブリックIP範囲例
  ],

  allowedIpV6AddressRanges: [
    "2001:db8::/32", // IPv6アドレス範囲例
  ],
};
```

##### 2. コマンドラインで context パラメータとして指定

```bash
# ドット表記形式
cdk deploy --context rapid.allowedIpV4AddressRanges='["192.168.0.0/16", "203.0.113.0/24"]'

# または JSON 形式
cdk deploy --context rapid='{"allowedIpV4AddressRanges":["192.168.0.0/16"]}'
```

セキュリティ強化のため、フロントエンドへのアクセスを必要な IP アドレス範囲のみに制限することを強く推奨します。

## 詳細情報

- [デプロイガイド](./docs/how_to_deploy.md): 詳細なデプロイ手順と設定オプション
- [開発者ガイド](./docs/developer-guide.md): 技術仕様、アーキテクチャ、開発環境設定

## ライセンス

本プロジェクトは [LICENSE](./LICENSE) に記載されたライセンスの下で配布されています。
